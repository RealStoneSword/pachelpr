#! /usr/bin/bash

PACKAGENAME="$2"

usage() {
    cat << EOF
Usage: pachelpr [OPTIONS] [PACKAGE_NAME]

Options:
    -i, --install   Install PACKAGE_NAME from the offical repos
    -r, --remove    Remove PACKAGE_NAME and its dependencies
    -s, --search    Searches the arch repos for a package
    -a, --aur       Downloads and installs a package from the AUR.
    -u, --update    Does a full system upgrade
    --help          Display this help message
EOF
exit 0
}

[[ $1 == "--help" ]] && usage

[[ $1 == "--install" ]] && sudo pacman -S "$PACKAGENAME"
[[ $1 == "-i" ]] && sudo pacman -S "$PACKAGENAME"
[[ $1 == "--remove" ]] && sudo pacman -Rns "$PACKAGENAME"
[[ $1 == "-r" ]] && sudo pacman -Rns "$PACKAGENAME"
[[ $1 == "--search" ]] && sudo pacman -Ss "$PACKAGENAME"
[[ $1 == "-s" ]] && sudo pacman -Ss "$PACKAGENAME"
[[ $1 == "--update" ]] && sudo pacman -Syu
[[ $1 == "-u" ]] && sudo pacman -Syu

if [[ $1 == "-aur" ]]; then
    mkdir ~/.pachelpr-files
    exec git clone https://aur.archlinux.org/$PACKAGENAME.git
    if [[ $? != 0 ]]; then
        echo "IT WORK"
    fi
fi
